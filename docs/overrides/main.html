{% extends "base.html" %}

{% block extrahead %}
<style>
/* Header avec images dynamiques - Effet glissant */
.dynamic-header-band {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 180px;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    z-index: 1000;
    border-bottom: 3px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    overflow: hidden;
}

/* Conteneur pour l'effet de glissement */
.header-bg-slider {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    transition: transform 1.2s cubic-bezier(0.645, 0.045, 0.355, 1);
}

.header-bg-slide {
    min-width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}

.dynamic-header-content {
    position: relative;
    z-index: 2;
    text-align: center;
    color: white;
    max-width: 1200px;
    padding: 0 2rem;
}

.dynamic-header-title {
    font-size: 2.5rem;
    font-weight: 700;
    margin: 0;
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
    letter-spacing: 1px;
}

.dynamic-header-logos {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 1.5rem;
    flex-wrap: wrap;
}

.dynamic-header-logos img {
    height: 45px;
    filter: drop-shadow(2px 2px 6px rgba(0, 0, 0, 0.5));
    transition: transform 0.3s ease;
}

.dynamic-header-logos img:hover {
    transform: scale(1.1);
}

/* Responsive */
@media (max-width: 768px) {
    .dynamic-header-band {
        height: 140px;
    }
    
    .dynamic-header-title {
        font-size: 1.5rem;
    }
}
</style>
{% endblock %}

{% block header %}
<!-- Header dynamique avec images qui changent -->
<div class="dynamic-header-band" id="dynamicHeaderBand">
    <div class="header-bg-slider" id="headerSlider"></div>
    <div class="dynamic-header-content">
        <h1 class="dynamic-header-title">
            <span id="weatherIcon" style="display: inline-block; transition: transform 0.3s ease;">‚òÄÔ∏è</span> 
            Lexique M√©t√©orologique Multilingue C√¥te d'Ivoire
        </h1>
    </div>
</div>

<script>
(function() {
    // Ic√¥nes m√©t√©o qui changent
    const weatherIcons = ['‚òÄÔ∏è', '‚õÖ', '‚òÅÔ∏è', 'üå¶Ô∏è', 'üåßÔ∏è'];
    let currentIconIndex = 0;
    const iconElement = document.getElementById('weatherIcon');
    
    function changeIcon() {
        iconElement.style.transform = 'scale(0.8)';
        iconElement.style.opacity = '0.5';
        
        setTimeout(() => {
            currentIconIndex = (currentIconIndex + 1) % weatherIcons.length;
            iconElement.textContent = weatherIcons[currentIconIndex];
            iconElement.style.transform = 'scale(1)';
            iconElement.style.opacity = '1';
        }, 200);
    }
    
    setInterval(changeIcon, 2000);
    
    // Images de fond - Plus d'images incluant pluie et champs
    const themes = [
        {
            name: 'agriculture-champs',
            image: 'https://images.unsplash.com/photo-1500382017468-9049fed747ef?q=80&w=2000',
            overlay: 'rgba(76, 110, 70, 0.55)'
        },
        {
            name: 'pluie-weather',
            image: 'https://images.unsplash.com/photo-1515694346937-94d85e41e6f0?q=80&w=2000',
            overlay: 'rgba(60, 80, 100, 0.6)'
        },
        {
            name: 'champs-agriculture',
            image: 'https://images.unsplash.com/photo-1625246333195-78d9c38ad449?q=80&w=2000',
            overlay: 'rgba(85, 107, 47, 0.55)'
        },
        {
            name: 'climat-nuages',
            image: 'https://images.unsplash.com/photo-1534088568595-a066f410bcda?q=80&w=2000',
            overlay: 'rgba(33, 150, 243, 0.55)'
        },
        {
            name: 'pluie-champs',
            image: 'https://images.unsplash.com/photo-1601134467661-3d775b999c8b?q=80&w=2000',
            overlay: 'rgba(70, 90, 110, 0.6)'
        }
    ];

    let currentSlideIndex = 0;
    const slider = document.getElementById('headerSlider');
    
    // Cr√©er les slides avec effet glissant
    themes.forEach((theme, index) => {
        const slide = document.createElement('div');
        slide.className = 'header-bg-slide';
        slide.style.backgroundImage = `linear-gradient(${theme.overlay}, ${theme.overlay}), url('${theme.image}')`;
        slider.appendChild(slide);
    });
    
    // Dupliquer la premi√®re image √† la fin pour loop continu
    const firstSlide = slider.children[0].cloneNode(true);
    slider.appendChild(firstSlide);

    function slideNext() {
        currentSlideIndex++;
        slider.style.transition = 'transform 1.2s cubic-bezier(0.645, 0.045, 0.355, 1)';
        slider.style.transform = `translateX(-${currentSlideIndex * 100}%)`;
        
        // Reset pour loop infini
        if (currentSlideIndex === themes.length) {
            setTimeout(() => {
                slider.style.transition = 'none';
                currentSlideIndex = 0;
                slider.style.transform = 'translateX(0)';
            }, 1200);
        }
    }

    // Pr√©charger toutes les images
    themes.forEach(theme => {
        const img = new Image();
        img.src = theme.image;
    });

    // D√©marrer le slider - change toutes les 5 secondes
    setInterval(slideNext, 5000);
})();
</script>

<!-- Header MkDocs par d√©faut (avec tabs et recherche) -->
{{ super() }}
{% endblock %}

{% block footer %}
<footer class="md-footer">
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
        <div style="margin-top: 0.5rem;">
          <strong>Version 1.0</strong> | 
          Made with <a href="https://www.mkdocs.org/" target="_blank">MkDocs</a> & 
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank">Material</a>
        </div>
        <div style="margin-top: 0.5rem; font-size: 0.9em;">
          ¬© 2024 SODEXAM - C√¥te d'Ivoire | 
          <a href="https://github.com/NicaiseKassi/lexique-meteo-multilingue-ci" target="_blank">
            üîó Code source sur GitHub
          </a>
        </div>
      </div>
    </div>
  </div>
</footer>
{% endblock %}
